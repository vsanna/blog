<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>project name</title>

  <link rel="stylesheet" href="/vendor/material.min.css">
  <script src="/vendor/material.min.js" charset="utf-8"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="/css/main.css" media="screen" title="no title" charset="utf-8">
</head>
<body>

  <style>
  .mdl-card__body {
    padding: 20px 5%;
    font-size: 1rem;
}

.mdl-card.mdl-shadow--2dp.article {
    width: 100%;
    margin-top: 19px;
}

.article .mdl-card__body h2 {
    font-size: 2rem;
    border-bottom: 1px solid;
    line-height: 2.5rem;
    margin-bottom: 10px;
}

.article .mdl-card__body h3 {
    font-size: 1.5rem;
    line-height: 2.5rem;
    margin-bottom: 10px;
    font-weight: bold;
    color: rgba(130,130,130,0.7);
}
</style>

<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
  <header class="mdl-layout__header custom">
    <!-- Top row, always visible -->
    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="mdl-layout-title"><a href="/">Project Name</a></span>
      <div class="mdl-layout-spacer"></div>
      <!-- Navigation -->
      <nav class="mdl-navigation hide-mobile">
        <a class="mdl-navigation__link" href="">Top</a>
        <a class="mdl-navigation__link" href="">About</a>
        <a class="mdl-navigation__link" href="">Contact</a>
        <a class="mdl-navigation__link" href="">Github</a>
      </nav>
    </div>
  </header>
  <div class="mdl-layout__drawer hide-not-mobile">
    <span class="mdl-layout-title">Title</span>
    <nav class="mdl-navigation">
      <a class="mdl-navigation__link" href="">Top</a>
      <a class="mdl-navigation__link" href="">About</a>
      <a class="mdl-navigation__link" href="">Contact</a>
      <a class="mdl-navigation__link" href="">Github</a>
    </nav>
  </div>
  <main class="mdl-layout__content">
    <!-- first view -->
      <!-- not-mobile -->
      <div class="bigbox hide-mobile mdl-shadow--3dp">
        <div class="overall"></div>
        <div class="bigbox-inner">
          <h1 class="title">Railsで高速にransackを動かす方法と最近の雑感を簡単にまとめたもの</h1>
          <p class="desc">programming...mmm...</p>
        </div>
      </div>
      <!-- not-mobile -->
      <!-- mobile -->
      <div class="bigbox-mobile hide-not-mobile  mdl-shadow--3dp">
        <div class="bigbox-mobile--inner show">
          <h1 class="title">Railsで高速にransackを動かす方法と最近の雑感を簡単にまとめたもの</h1>
          <ul class="tags">
            <li class="tag tag--sm">Rails</li>
            <li class="tag tag--sm">Rails</li>
            <li class="tag tag--sm">Rails</li>
            <li class="tag tag--sm">Rails</li>
          </ul>
        </div>
      </div>
      <!-- mobile -->
    <!-- first view -->
    <!-- content -->
    <div class="content-center">
      <div class="mdl-card mdl-shadow--2dp article">
        <div class="mdl-card__body">
          <h2>asdf</h2>
          <p>hogehoge</p>
          <p>hogehoge</p>
          <p>hogehoge</p>
          <p>hogehoge</p>
          <p>hogehoge</p>
          <p>hogehoge</p>
          <h3>asdf</h3>
          <h4>asdf</h4>
          <p>hogehoge</p>
        </div>
        <div class="mdl-card__footer mdl-card--border"></div>
      </div>
    </div>
    <!-- content -->
  </main>
</div>


<script src="./vendor/jquery-2.2.0.min.js"></script>
<script>
  (function(){
    $('.bigbox').css('height', $(window).height());
    $('.overall').css('height', $(window).height());

    $('.overall').fadeOut(700, function(){
      $('.bigbox-inner').fadeIn(700, function(){
        $('.bigbox-inner .desc').animate({'opacity':'1'}, 500);
      });
    })
    // scrollした時に徐々に画像を暗くして(overallをfadein)メニューバーに変更
    $('.mdl-layout__content').scroll(function(){
      if($(window).width() >= 450){
        var initialHeight = $(window).height();
        var scroll = $('.mdl-layout__content').scrollTop();
        var rate = (initialHeight - scroll)/initialHeight;
        if ( rate <= 0 ){return;}
        $('.bigbox').css("opacity",rate);
        if (scroll > (initialHeight * 2 / 3)){
          $('.mdl-layout__header, .mdl-layout__drawer, .mdl-layout__drawer-button').stop().animate({'top':0}, 300, 'swing');
        } else {
          $('.mdl-layout__header, .mdl-layout__drawer, .mdl-layout__drawer-button').stop().animate({'top':'-64px'}, 300, 'swing');
        }
      } else {
        var initialHeight = $('.bigbox-mobile').height();
        var scroll = $('.mdl-layout__content').scrollTop();
        if (scroll > (initialHeight * 2 / 3)){
          $('.mdl-layout__header-row').stop().animate({'top':0}, 300, 'swing');
        } else {
          $('.mdl-layout__header-row').stop().animate({'top':'-64px'}, 300, 'swing');
        }
      }
    })


    $(window).on('resize',function(){
      if ( $(window).width() >= 450){
        $('.mdl-layout__header, .mdl-layout__drawer, .mdl-layout__drawer-button').stop().animate({'top':0}, 300, 'swing');
      } else {
        $('.mdl-layout__header-row').stop().animate({'top':0}, 300)
      }
    })

  })()
</script>
</body>
</html>
